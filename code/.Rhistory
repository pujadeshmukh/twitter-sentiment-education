ggsave(file = "../writing/figure/map.pdf", p, cairo_pdf, dpi=600, width=25, height=15, units="cm")
ggsave(file="../writing/figure/map.pdf",p,cairo_pdf,dpi=600,width=25,height=15,units="cm")
ggsave(file="../writing/figure/map.europe.pdf",p.europe,cairo_pdf,dpi=600,width=25,height=15,units="cm")
ggsave(file="../writing/figure/map.usa.pdf",p.usa,cairo_pdf,dpi=600,width=25,height=15,units="cm")
?readPDF
plot.wordcloud(stream$text[stream$score>0], "../writing/figure/word.cloud.pos.pdf")
plot.wordcloud(stream$text[stream$score<0], "../writing/figure/word.cloud.neg.pdf")
img <- readPDF("../writing/figure/map.pdf")
grid.raster(img)
?pdf
readPNG("../writing/figure/map.pdf")
pdf <- readPDF()
pdf
pdf(file="../writing/figure/map.pdf")
save(p, file="../writing/map.rda")
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
# usa
p.usa <- p + coord_cartesian(ylim=c(20, 55), xlim=c(-130,-60))
# europe
p.europe <- p + coord_cartesian(ylim=c(30, 70), xlim=c(-10,50))
save(p, file="../writing/map.rda")
p
surpassMessages(p)
surpassMessage(p)
supprrssMessages(p)
suppressMessages(p)
Pandoc.convert("../writing/article.md", format="docx")
require(pander)
require(knitcitations)
require(bibtex)
Pandoc.convert("../writing/article.md", format="docx")
library(Rcpp)
library(inline)
?data.table
??data.table
View(estream)
estream <- stream[stream$score!=0,c("lat","lng","score")]
View(estream)
cut(-90:90)
cut(-90:90, 1000)
ct<-cut(-90:90, 1000)
ct[1]
ct[2]
cut(-90:90, 1000, include.lowest=T)
cut(-90:90, 1000, include.lowest=)
cut(-90:90, 1000, include.lowest=F)
cut(-90:90, 3, include.lowest=F)
cut(-90:90, breaks=3, include.lowest=F)
cut(-90:90, breaks=10, include.lowest=F)
cut(estream$lat, breaks=10, include.lowest=F)
as.numeric(cut(estream$lat, breaks=10, include.lowest=F))
as.numeric(cut(estream$lat, breaks=10))
clat <- as.numeric(cut(estream$lat, breaks=10))
unique(clat)
clat <- as.numeric(cut(estream$lat, breaks=10))
clng <- as.numeric(cut(estream$lng, breaks=10))
table(clat,clng)
estream$clng <- as.numeric(cut(estream$lng, breaks=10))
estream$clat <- as.numeric(cut(estream$lat, breaks=10))
dt <- data.table(estream)
require(data.table)
dt <- data.table(estream)
setkey(dt, clat)
setkey(dt, clng)
seq_along(dt$clat)
dt$clat
unique(dt$clat)
N <- 10
estream$clng <- as.numeric(cut(estream$lng, breaks=N))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
require(data.table)
dt <- data.table(estream)
setkey(dt, clat)
setkey(dt, clng)
dt[J(i,j)]
i
j
dt
i<-1
j<-1
dt[J(i,j)]
J(i,j)
dt[J(i,j),]
dt
dt["1"]
dt["1",]
dt[1,]
dt[2,]
tables()
setkey(dt, clat, clng)
tables()
dt[J(i,j),]
dt[J(1,2),]
dt[J(1,3),]
dt[J(5,5),]
dt[J(5,6),]
dt[J(1,1),]
dt[J(1,2),]
dt[J(1,3),]
dt[J(5,6),]
table(dt$clng,dt$clat)
dt[J(5,6),]
dt[J(5,6),mode(score)]
dt[J(5,6),mean(score)]
dt[J(5,6),mode(score)]
dt[J(1,1),mode(score)]
dt[J(5,6),mode(score)]
dt[J(5,6),mode(score),by="clat,clng"]
dt[,mode(score),by="clat,clng"]
dt[,mode(score),by="clat,clng"]$V1
dt[,mode(score),by="clat,clng"]
dt[,mode(score),by="clat,clng"]
dt
dt[,mean(lat),by="clat,clng"]
dt[,mean(lng),by="clat,clng"]
table(dt$clng,dt$clat)
dt[,mode(score),by="clat,clng"]
dt[,mode(score),mean(lat),by="clat,clng"]
?median
median(1:5)
median(1:6)
mode(1:5)
mode(1:6)
mode(c(1,1,2,3,2,2,2,))
mode(c(1,1,2,3,2,2,2,2))
dt[,mode(score),by="clat,clng"]
dt[,list(mode(score),mean(lat)),by="clat,clng"]
dt[,list(mode(score),mean(lat),mean(lng)),by="clat,clng"]
View(m)
View(m)
dt[,list(score=mode(score),mean(lat),mean(lng)),by="clat,clng"]
dt[,list(score=mode(score),lat=mean(lat),lng=mean(lng)),by="clat,clng"]
dt[,list(score=mode(score),lat=mean(lat),lng=mean(lng),size=length(score)),by="clat,clng"]
dt[,list(score=mode(score),lat=mean(lat),lng=mean(lng),size=log(length(score)+1)),by="clat,clng"]
dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1)),by="clat,clng"]
dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1)),by="clat,clng"][,3:6]
dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1)),by="clat,clng"]
dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1)),by="clat,clng"]
dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1)),by="clat,clng"][,2]
m2 <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1)),by="clat,clng"]
m2[,2]
m2[1,2]
m2
data.frame(m2)
data.frame(m2)[,3:6]
m2 <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1)),by="clat,clng"]
m2 <- data.frame(m2)[,3:6]
length(-90:90)
length(-180:180)
N <- 181
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
require(data.table)
dt <- data.table(estream)
setkey(dt, clat, clng)
m2 <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1)),by="clat,clng"]
m2 <- data.frame(m2)[,3:6]
View(`m2`)
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m2, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
m2 <- rbind(m2, data.frame(lng=0,lat=0,score=0,size=1))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m2, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
N <- 1000
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
require(data.table)
dt <- data.table(estream)
setkey(dt, clat, clng)
m2 <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1)),by="clat,clng"]
m2 <- data.frame(m2)[,3:6]
m2 <- rbind(m2, data.frame(lng=0,lat=0,score=0,size=1))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m2, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
p.usa <- p + coord_cartesian(ylim=c(20, 55), xlim=c(-130,-60))
# europe
p.europe <- p + coord_cartesian(ylim=c(30, 70), xlim=c(-10,50))
p.usa
p.europe
log(10)
log(10,base=2)
estream <- stream[stream$score!=0,c("lat","lng","score")]
N <- 1000
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
require(data.table)
dt <- data.table(estream)
setkey(dt, clat, clng)
m <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1,2)),by="clat,clng"]
m <- data.frame(m2)[,3:6]
m <- rbind(m2, data.frame(lng=0,lat=0,score=0,size=1))
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
p.usa <- p + coord_cartesian(ylim=c(20, 55), xlim=c(-130,-60))
# europe
p.europe <- p + coord_cartesian(ylim=c(30, 70), xlim=c(-10,50))
p.usa
p.europe
N <- 100
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
require(data.table)
dt <- data.table(estream)
setkey(dt, clat, clng)
m <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1,2)),by="clat,clng"]
m <- data.frame(m2)[,3:6]
m <- rbind(m2, data.frame(lng=0,lat=0,score=0,size=1))
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
N <- 100
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
require(data.table)
dt <- data.table(estream)
setkey(dt, clat, clng)
m <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1,2)),by="clat,clng"]
m <- data.frame(m2)[,3:6]
m <- rbind(m, data.frame(lng=0,lat=0,score=0,size=1))
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
N <- 100
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
require(data.table)
dt <- data.table(estream)
setkey(dt, clat, clng)
m <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1,2)),by="clat,clng"]
m <- data.frame(m)[,3:6]
m <- rbind(m, data.frame(lng=0,lat=0,score=0,size=1))
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
p.usa <- p + coord_cartesian(ylim=c(20, 55), xlim=c(-130,-60))
# europe
p.europe <- p + coord_cartesian(ylim=c(30, 70), xlim=c(-10,50))
p.usa
p.usa
N <- 500
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
require(data.table)
dt <- data.table(estream)
setkey(dt, clat, clng)
m <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=2*log(length(score)+1,2)),by="clat,clng"]
m <- data.frame(m)[,3:6]
m <- rbind(m, data.frame(lng=0,lat=0,score=0,size=1))
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
# usa
p.usa <- p + coord_cartesian(ylim=c(22, 52), xlim=c(-130,-60))
p.usa
N <- 500
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
require(data.table)
dt <- data.table(estream)
setkey(dt, clat, clng)
m <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=5*log(length(score)+1,2)),by="clat,clng"]
m <- data.frame(m)[,3:6]
m <- rbind(m, data.frame(lng=0,lat=0,score=0,size=1))
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
# usa
p.usa <- p + coord_cartesian(ylim=c(22, 52), xlim=c(-130,-60))
p.usa
p.europe <- p + coord_cartesian(ylim=c(30, 70), xlim=c(-10,50))
ggsave(file="../writing/figure/map.pdf",p,cairo_pdf,dpi=600,width=25,height=15,units="cm")
ggsave(file="../writing/figure/map.europe.pdf",p.europe,cairo_pdf,dpi=600,width=25,height=15,units="cm")
ggsave(file="../writing/figure/map.usa.pdf",p.usa,cairo_pdf,dpi=600,width=25,height=15,units="cm")
plot.wordcloud(stream$text[stream$score>0], "../writing/figure/word.cloud.pos.pdf")
plot.wordcloud(stream$text[stream$score<0], "../writing/figure/word.cloud.neg.pdf")
source('~/docs/Dropbox/Docs/study/Publications/2013/2013-03-IOT/code/sentiment.R')
plot.wordcloud(stream$text[stream$score>0], "../writing/figure/word.cloud.pos.png")
plot.wordcloud(stream$text[stream$score<0], "../writing/figure/word.cloud.neg.png")
Pandoc.convert("../writing/article.md", format="docx")
citation()
citation("RCurl")
citation("RCurl")
install.packages(c("biganalytics", "bigmemory", "functional", "gpclib", "Rmpi"))
install.packages("Rmpi")
rm(list=ls(all=TRUE))
gc(reset=TRUE)
set.seed(12345)
require(ggplot2)
require(rworldmap)
require(data.table)
source("sentiment.R")
load("../data/stream.rda")
stream$score[stream$score> +2] <- +2
stream$score[stream$score< -2] <- -2
estream <- stream[stream$score!=0,c("lat","lng","score")]
N <- 500
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
dt <- data.table(estream)
setkey(dt, clat, clng)
m <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1,2)),by="clat,clng"]
m <- data.frame(m)[,3:6]
m <- rbind(m, data.frame(lng=0,lat=0,score=0,size=1))
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
View(estream)
View(m)
View(estream)
class(estream$score)
mode(estream$score)
summary(estream$score)
mode
mode <- function(x) {
ux <- unique(x)
ux[which.max(tabulate(match(x, ux)))]
}
m <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=log(length(score)+1,2)),by="clat,clng"]
m <- data.frame(m)[,3:6]
m <- rbind(m, data.frame(lng=0,lat=0,score=0,size=1))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
p
p.usa <- p + coord_cartesian(ylim=c(22, 52), xlim=c(-130,-60))
p.usa
View(estream)
estream <- stream[stream$score!=0,c("lat","lng","score")]
N <- 500
estream$clng <- as.numeric(cut(estream$lng, breaks=N*2))
estream$clat <- as.numeric(cut(estream$lat, breaks=N))
dt <- data.table(estream)
setkey(dt, clat, clng)
m <- dt[,list(lat=mean(lat),lng=mean(lng),score=mode(score),size=10*log(length(score)+1,2)),by="clat,clng"]
m <- data.frame(m)[,3:6]
m <- rbind(m, data.frame(lng=0,lat=0,score=0,size=1))
world <- fortify(getMap(resolution="low"))
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.9, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
# usa
p.usa <- p + coord_cartesian(ylim=c(22, 52), xlim=c(-130,-60))
p.usa
summary(m$size)
(m$size/max(m$size))
max((1-(m$size/max(m$size))), 0.2)
max((1-(m$size/max(m$size))), 0.2)
(1-(m$size/max(m$size)))
(1-(m$size/max(m$size)))
m$alpha <- (1-(m$size/max(m$size)))
summary(m$alpha)
m$alpha <- ifelse(m$alpha<0.2, 0.2, m$alpha)
summary(m$alpha)
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=alpha, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
m$alpha
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=alpha, position="jitter")
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=m$alpha, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
p <- ggplot() + theme_bw()
p <- p + geom_polygon(data=world, aes(x=long, y=lat, group=group),
colour="#888888", fill="#eeeeff", alpha=0.3)
p <- p + geom_point(data=m, aes(x=lng,y=lat,colour=as.factor(score),size=size), alpha=0.8, position="jitter")
p <- p + scale_colour_manual(name="Оценка", values=c("red","red","#999999","#00dd00","#00dd00"))
p <- p + scale_size(guide="none")
p <- p + xlab("Долгота, градусы") + ylab("Широта, градусы")
# world
p
p.usa <- p + coord_cartesian(ylim=c(22, 52), xlim=c(-130,-60))
p.usa
install.packages(c("Formula", "HSAUR", "HSAUR2", "rgl", "Rmpi"))
library(RTextTools);
install.packages("RTextTools")
require(devtools)
install_github("RTextTools", "timjurka")
install("https://github.com/timjurka/RTextTools/blob/master/RTextTools_1.4.0.tar.gz")
install("/home/ales/RTextTools_1.4.0.tar.gz")
install("/home/ales/RTextTools")
install.packages("maxent")
rm(list=c("estream","m","world","N","dt","p","p.usa","p.europe"))
source('~/docs/Dropbox/Docs/study/Publications/2013/2013-03-IOT/code/utils.R')
source('~/docs/Dropbox/Docs/study/Publications/2013/2013-03-IOT/code/sentiment.R')
source('~/docs/Dropbox/Docs/study/Publications/2013/2013-03-IOT/code/geonames.R')
